import{p as O,u as e,d as w,R as Ce,q as re,S as _e,B as F,j as de,T as be,o as y,c as C,w as h,e as b,N as Q,y as J,P as I,D as V,aR as ie,b2 as De,s as Y,a0 as G,a1 as T,m as A,aI as Re,f as D,O as U,b3 as Ke,a9 as Le,a5 as Te,E as ue,F as ce,a6 as pe,b4 as Ve,aU as Me,a2 as R,X as He,ad as Ne,i as K,x as we,g as ze,t as Ge,a as Ue,b5 as We,b as qe}from"./index-zul1sP2k.js";import{u as M}from"./useId-BW15KV_w.js";import{S as je}from"./search-Cl1Rhiq1.js";import{i as le,u as Xe,_ as Je,a as Qe,c as Ye,b as Ze}from"./PopperContent-CFzl98FT.js";import{g as et}from"./RovingFocusGroup-BaDQ-Xm1.js";import{d as tt,c as ot,_ as at,a as nt,u as st}from"./useFocusGuards-CLdoFBw2.js";import{u as it}from"./useDirection-B_U0F_uO.js";import{_ as lt}from"./VisuallyHiddenInput-D2ViiYJ9.js";function rt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function dt(i){const l=O(()=>e(i)),t=O(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(n.slice(0,s.length),s)===0),endsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(n.slice(-s.length),s)===0),contains:(n,s)=>{if(s.length===0)return!0;n=n.normalize("NFC"),s=s.normalize("NFC");let r=0;const c=s.length;for(;r+c<=n.length;r++){const p=n.slice(r,r+c);if(t.value.compare(s,p)===0)return!0}return!1}}}function ut(i,l,t){return i===void 0?!1:Array.isArray(i)?i.some(a=>z(a,l,t)):z(i,l,t)}function z(i,l,t){return i===void 0||l===void 0?!1:typeof i=="string"?i===l:typeof t=="function"?t(i,l):typeof t=="string"?(i==null?void 0:i[t])===(l==null?void 0:l[t]):le(i,l)}function ct(i,l,t){const a=i.findIndex(s=>le(s,l)),d=i.findIndex(s=>le(s,t));if(a===-1||d===-1)return[];const[o,n]=[a,d].sort((s,r)=>s-r);return i.slice(o,n+1)}const[fe,pt]=V("ListboxRoot"),ft=w({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(i,{expose:l,emit:t}){const a=i,d=t,{multiple:o,highlightOnHover:n,orientation:s,disabled:r,selectionBehavior:c,dir:p}=Ce(a),{getItems:g}=re({isProvider:!0}),{handleTypeaheadSearch:_}=tt(),{primitiveElement:E,currentElement:m}=_e(),P=rt(),q=it(p),Ee=Xe(m),j=F(),H=F(!1),ee=F(!0),k=de(a,"modelValue",d,{defaultValue:a.defaultValue??(o.value?[]:void 0),passive:a.modelValue===void 0,deep:!0});function Pe(u){if(H.value=!0,a.multiple){const f=Array.isArray(k.value)?[...k.value]:[],v=f.findIndex(B=>z(B,u,a.by));a.selectionBehavior==="toggle"?(v===-1?f.push(u):f.splice(v,1),k.value=f):(k.value=[u],j.value=u)}else a.selectionBehavior==="toggle"&&z(k.value,u,a.by)?k.value=void 0:k.value=u;setTimeout(()=>{H.value=!1},1)}const x=F(null),te=F(null),L=F(!1),oe=F(!1),me=ie(),ae=ie(),ve=ie();function ne(){return g().map(u=>u.ref).filter(u=>u.dataset.disabled!=="")}function $(u,f=!0){if(!u)return;x.value=u,ee.value&&x.value.focus(),f&&x.value.scrollIntoView({block:"nearest"});const v=g().find(B=>B.ref===u);d("highlight",v)}function Fe(u){if(L.value)ve.trigger(u);else{const f=g().find(v=>z(v.value,u,a.by));f&&(x.value=f.ref,$(f.ref))}}function Oe(u){x.value&&x.value.isConnected&&(u.preventDefault(),u.stopPropagation(),oe.value||x.value.click())}function ke(u){if(ee.value){if(H.value=!0,L.value)ae.trigger(u);else{const f=u.altKey||u.ctrlKey||u.metaKey;if(f&&u.key==="a"&&o.value){const v=g(),B=v.map(S=>S.value);k.value=[...B],u.preventDefault(),$(v[v.length-1].ref)}else if(!f){const v=_(u.key,g());v&&$(v)}}setTimeout(()=>{H.value=!1},1)}}function xe(){oe.value=!0}function Ae(){requestAnimationFrame(()=>{oe.value=!1})}function ge(){J(()=>{const u=new KeyboardEvent("keydown",{key:"PageUp"});he(u)})}function se(u){const f=x.value;f!=null&&f.isConnected&&(te.value=f),x.value=null,d("leave",u)}function $e(u){var v,B;const f=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((v=u.currentTarget)==null||v.dispatchEvent(f),d("entryFocus",f),!f.defaultPrevented)if(te.value)$(te.value);else{const S=(B=ne())==null?void 0:B[0];$(S)}}function he(u){const f=et(u,s.value,q.value);if(!f)return;let v=ne();if(x.value){if(f==="last")v.reverse();else if(f==="prev"||f==="next"){f==="prev"&&v.reverse();const B=v.indexOf(x.value);v=v.slice(B+1)}Se(u,v[0])}if(v.length){const B=!x.value&&f==="prev"?v.length-1:0;$(v[B])}if(L.value)return ae.trigger(u)}function Se(u,f){var B;if(!(L.value||a.selectionBehavior!=="replace"||!o.value||!Array.isArray(k.value)||(u.altKey||u.ctrlKey||u.metaKey)&&!u.shiftKey)&&u.shiftKey){const S=g().filter(N=>N.ref.dataset.disabled!=="");let X=(B=S.find(N=>N.ref===f))==null?void 0:B.value;if(u.key===P.END?X=S[S.length-1].value:u.key===P.HOME&&(X=S[0].value),!X||!j.value)return;const Ie=ct(S.map(N=>N.value),j.value,X);k.value=Ie}}async function ye(u){if(await J(),L.value)me.trigger(u);else{const f=ne(),v=f.find(B=>B.dataset.state==="checked");v?$(v):f.length&&$(f[0])}}return be(k,()=>{H.value||J(()=>{ye()})},{immediate:!0,deep:!0}),l({highlightedElement:x,highlightItem:Fe,highlightFirstItem:ge,highlightSelected:ye,getItems:g}),pt({modelValue:k,onValueChange:Pe,multiple:o,orientation:s,dir:q,disabled:r,highlightOnHover:n,highlightedElement:x,isVirtual:L,virtualFocusHook:me,virtualKeydownHook:ae,virtualHighlightHook:ve,by:a.by,firstValue:j,selectionBehavior:c,focusable:ee,onLeave:se,onEnter:$e,changeHighlight:$,onKeydownEnter:Oe,onKeydownNavigation:he,onKeydownTypeAhead:ke,onCompositionStart:xe,onCompositionEnd:Ae,highlightFirstItem:ge}),(u,f)=>(y(),C(e(I),{ref_key:"primitiveElement",ref:E,as:u.as,"as-child":u.asChild,dir:e(q),"data-disabled":e(r)?"":void 0,onPointerleave:se,onFocusout:f[0]||(f[0]=async v=>{const B=v.relatedTarget||v.target;await J(),x.value&&e(m)&&!e(m).contains(B)&&se(v)})},{default:h(()=>[b(u.$slots,"default",{modelValue:e(k)}),e(Ee)&&u.name?(y(),C(e(lt),{key:0,name:u.name,value:e(k),disabled:e(r),required:u.required},null,8,["name","value","disabled","required"])):Q("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),mt=w({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(i,{emit:l}){const t=i,d=de(t,"modelValue",l,{defaultValue:"",passive:t.modelValue===void 0}),o=fe();o.focusable.value=!1;const{primitiveElement:n,currentElement:s}=_e(),r=O(()=>t.disabled||o.disabled.value||!1),c=F();return De(()=>{var p;return c.value=(p=o.highlightedElement.value)==null?void 0:p.id}),Y(()=>{setTimeout(()=>{var p;t.autoFocus&&((p=s.value)==null||p.focus())},1)}),(p,g)=>(y(),C(e(I),{ref_key:"primitiveElement",ref:n,as:p.as,"as-child":p.asChild,value:e(d),disabled:r.value?"":void 0,"data-disabled":r.value?"":void 0,"aria-disabled":r.value??void 0,"aria-activedescendant":c.value,type:"text",onKeydown:[G(T(e(o).onKeydownNavigation,["prevent"]),["down","up","home","end"]),G(e(o).onKeydownEnter,["enter"])],onInput:g[0]||(g[0]=_=>{d.value=_.target.value,e(o).highlightFirstItem(_)}),onCompositionstart:e(o).onCompositionStart,onCompositionend:e(o).onCompositionEnd},{default:h(()=>[b(p.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),[vt,gt]=V("ListboxGroup"),ht=w({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(i){const l=i,t=M(void 0,"reka-listbox-group");return gt({id:t}),(a,d)=>(y(),C(e(I),A({role:"group"},l,{"aria-labelledby":e(t)}),{default:h(()=>[b(a.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),yt=w({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(i){const{CollectionSlot:l}=re(),t=fe(),a=Re(!1,10);return(d,o)=>(y(),C(e(l),null,{default:h(()=>[D(e(I),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:o[0]||(o[0]=T(n=>a.value=!0,["left"])),onFocus:o[1]||(o[1]=n=>{e(a)||e(t).onEnter(n)}),onKeydown:[o[2]||(o[2]=G(T(n=>{e(t).focusable.value&&e(t).onKeydownNavigation(n)},["prevent"]),["down","up","left","right","home","end"])),G(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:h(()=>[b(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Ct="listbox.select",[zt,_t]=V("ListboxItem"),bt=w({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(i,{emit:l}){const t=i,a=l,d=M(void 0,"reka-listbox-item"),{CollectionItem:o}=re(),{forwardRef:n,currentElement:s}=U(),r=fe(),c=O(()=>s.value===r.highlightedElement.value),p=O(()=>ut(r.modelValue.value,t.value,r.by)),g=O(()=>r.disabled.value||t.disabled);async function _(m){a("select",m),!(m!=null&&m.defaultPrevented)&&!g.value&&m&&(r.onValueChange(t.value),r.changeHighlight(s.value))}function E(m){const P={originalEvent:m,value:t.value};Le(Ct,_,P)}return _t({isSelected:p}),(m,P)=>(y(),C(e(o),{value:m.value},{default:h(()=>[Ke([c.value,p.value],()=>D(e(I),A({id:e(d)},m.$attrs,{ref:e(n),role:"option",tabindex:e(r).focusable.value?c.value?"0":"-1":-1,"aria-selected":p.value,as:m.as,"as-child":m.asChild,disabled:g.value?"":void 0,"data-disabled":g.value?"":void 0,"data-highlighted":c.value?"":void 0,"data-state":p.value?"checked":"unchecked",onClick:E,onKeydown:G(T(E,["prevent"]),["space"]),onPointermove:P[0]||(P[0]=q=>{e(r).highlightedElement.value!==e(s)&&(e(r).highlightOnHover.value?e(r).changeHighlight(e(s),!1):e(r).focusable.value||e(r).changeHighlight(e(s),!1))})}),{default:h(()=>[b(m.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),P,1)]),_:3},8,["value"]))}}),[W,wt]=V("PopoverRoot"),Bt=w({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(i,{emit:l}){const t=i,a=l,{modal:d}=Ce(t),o=de(t,"open",a,{defaultValue:t.defaultOpen,passive:t.open===void 0}),n=F(),s=F(!1);return wt({contentId:"",triggerId:"",modal:d,open:o,onOpenChange:r=>{o.value=r},onOpenToggle:()=>{o.value=!o.value},triggerElement:n,hasCustomAnchor:s}),(r,c)=>(y(),C(e(Je),null,{default:h(()=>[b(r.$slots,"default",{open:e(o)})]),_:3}))}}),Et=w({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(i){const l=i,t=W(),{forwardRef:a,currentElement:d}=U();return t.triggerId||(t.triggerId=M(void 0,"reka-popover-trigger")),Y(()=>{t.triggerElement.value=d.value}),(o,n)=>(y(),C(Te(e(t).hasCustomAnchor.value?e(I):e(Qe)),{"as-child":""},{default:h(()=>[D(e(I),{id:e(t).triggerId,ref:e(a),type:o.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"data-state":e(t).open.value?"open":"closed",as:o.as,"as-child":l.asChild,onClick:e(t).onOpenToggle},{default:h(()=>[b(o.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Pt=w({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(i){const l=i;return(t,a)=>(y(),C(e(Ye),ue(ce(l)),{default:h(()=>[b(t.$slots,"default")]),_:3},16))}}),Be=w({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:l}){const t=i,a=l,d=pe(Ve(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:o}=U(),n=W();return ot(),(s,r)=>(y(),C(e(at),{"as-child":"",loop:"",trapped:s.trapFocus,onMountAutoFocus:r[5]||(r[5]=c=>a("openAutoFocus",c)),onUnmountAutoFocus:r[6]||(r[6]=c=>a("closeAutoFocus",c))},{default:h(()=>[D(e(Me),{"as-child":"","disable-outside-pointer-events":s.disableOutsidePointerEvents,onPointerDownOutside:r[0]||(r[0]=c=>a("pointerDownOutside",c)),onInteractOutside:r[1]||(r[1]=c=>a("interactOutside",c)),onEscapeKeyDown:r[2]||(r[2]=c=>a("escapeKeyDown",c)),onFocusOutside:r[3]||(r[3]=c=>a("focusOutside",c)),onDismiss:r[4]||(r[4]=c=>e(n).onOpenChange(!1))},{default:h(()=>[D(e(Ze),A(e(d),{id:e(n).contentId,ref:e(o),"data-state":e(n).open.value?"open":"closed","aria-labelledby":e(n).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:h(()=>[b(s.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Ft=w({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:l}){const t=i,a=l,d=W(),o=F(!1);nt(!0);const n=R(t,a),{forwardRef:s,currentElement:r}=U();return st(r),(c,p)=>(y(),C(Be,A(e(n),{ref:e(s),"trap-focus":e(d).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:p[0]||(p[0]=T(g=>{var _;a("closeAutoFocus",g),o.value||(_=e(d).triggerElement.value)==null||_.focus()},["prevent"])),onPointerDownOutside:p[1]||(p[1]=g=>{a("pointerDownOutside",g);const _=g.detail.originalEvent,E=_.button===0&&_.ctrlKey===!0,m=_.button===2||E;o.value=m}),onFocusOutside:p[2]||(p[2]=T(()=>{},["prevent"]))}),{default:h(()=>[b(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ot=w({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:l}){const t=i,a=l,d=W(),o=F(!1),n=F(!1),s=R(t,a);return(r,c)=>(y(),C(Be,A(e(s),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=p=>{var g;a("closeAutoFocus",p),p.defaultPrevented||(o.value||(g=e(d).triggerElement.value)==null||g.focus(),p.preventDefault()),o.value=!1,n.value=!1}),onInteractOutside:c[1]||(c[1]=async p=>{var E;a("interactOutside",p),p.defaultPrevented||(o.value=!0,p.detail.originalEvent.type==="pointerdown"&&(n.value=!0));const g=p.target;((E=e(d).triggerElement.value)==null?void 0:E.contains(g))&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&n.value&&p.preventDefault()})}),{default:h(()=>[b(r.$slots,"default")]),_:3},16))}}),kt=w({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:l}){const t=i,a=l,d=W(),o=R(t,a),{forwardRef:n}=U();return d.contentId||(d.contentId=M(void 0,"reka-popover-content")),(s,r)=>(y(),C(e(He),{present:s.forceMount||e(d).open.value},{default:h(()=>[e(d).modal.value?(y(),C(Ft,A({key:0},e(o),{ref:e(n)}),{default:h(()=>[b(s.$slots,"default")]),_:3},16)):(y(),C(Ot,A({key:1},e(o),{ref:e(n)}),{default:h(()=>[b(s.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),xt=w({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(i){const l=i,t=vt({id:""});return(a,d)=>(y(),C(e(I),A(l,{id:e(t).id}),{default:h(()=>[b(a.$slots,"default")]),_:3},16,["id"]))}}),Gt=w({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(i,{emit:l}){const t=i,a=l,d=O(()=>{const{class:g,..._}=t;return _}),o=R(d,a),n=F(new Map),s=F(new Map),{contains:r}=dt({sensitivity:"base"}),c=Ne({search:"",filtered:{count:0,items:new Map,groups:new Set}});function p(){if(!c.search){c.filtered.count=n.value.size;return}c.filtered.groups=new Set;let g=0;for(const[_,E]of n.value){const m=r(E,c.search);c.filtered.items.set(_,m?1:0),m&&g++}for(const[_,E]of s.value)for(const m of E)if(c.filtered.items.get(m)>0){c.filtered.groups.add(_);break}c.filtered.count=g}return be(()=>c.search,()=>{p()}),St({allItems:n,allGroups:s,filterState:c}),(g,_)=>(y(),C(e(ft),A(e(o),{class:e(K)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t.class)}),{default:h(()=>[b(g.$slots,"default")]),_:3},16,["class"]))}}),Ut=w({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const l=i,t=O(()=>{const{class:o,...n}=l;return n}),{filterState:a}=Z(),d=O(()=>!!a.search&&a.filtered.count===0);return(o,n)=>d.value?(y(),C(e(I),A({key:0},t.value,{class:e(K)("py-6 text-center text-sm",l.class)}),{default:h(()=>[b(o.$slots,"default")]),_:3},16,["class"])):Q("",!0)}}),Wt=w({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(i){const l=i,t=O(()=>{const{class:s,...r}=l;return r}),{allGroups:a,filterState:d}=Z(),o=M(),n=O(()=>d.search?d.filtered.groups.has(o):!0);return Dt({id:o}),Y(()=>{a.value.has(o)||a.value.set(o,new Set)}),we(()=>{a.value.delete(o)}),(s,r)=>(y(),C(e(ht),A(t.value,{id:e(o),class:e(K)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",l.class),hidden:n.value?void 0:!0}),{default:h(()=>[s.heading?(y(),C(e(xt),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:h(()=>[ze(Ge(s.heading),1)]),_:1})):Q("",!0),b(s.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),At={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},qt=w({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(i){const l=i,t=O(()=>{const{class:o,...n}=l;return n}),a=pe(t),{filterState:d}=Z();return(o,n)=>(y(),Ue("div",At,[D(e(je),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),D(e(mt),A({...e(a),...o.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":n[0]||(n[0]=s=>e(d).search=s),"auto-focus":"",class:e(K)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",l.class)}),null,16,["modelValue","class"])]))}}),jt=w({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(i,{emit:l}){const t=i,a=l,d=O(()=>{const{class:m,...P}=t;return P}),o=R(d,a),n=M(),{filterState:s,allItems:r,allGroups:c}=Z(),p=It(),g=O(()=>{if(s.search){const m=s.filtered.items.get(n);return m===void 0?!0:m>0}else return!0}),_=F(),E=We(_);return Y(()=>{var P;if(!(E.value instanceof HTMLElement))return;r.value.set(n,E.value.textContent??t.value.toString());const m=p==null?void 0:p.id;m&&(c.value.has(m)?(P=c.value.get(m))==null||P.add(n):c.value.set(m,new Set([n])))}),we(()=>{r.value.delete(n)}),(m,P)=>g.value?(y(),C(e(bt),A({key:0},e(o),{id:e(n),ref_key:"itemRef",ref:_,class:e(K)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",t.class),onSelect:P[0]||(P[0]=()=>{e(s).search=""})}),{default:h(()=>[b(m.$slots,"default")]),_:3},16,["id","class"])):Q("",!0)}}),$t={role:"presentation"},Xt=w({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(i){const l=i,t=O(()=>{const{class:d,...o}=l;return o}),a=pe(t);return(d,o)=>(y(),C(e(yt),A(e(a),{class:e(K)("max-h-[300px] overflow-y-auto overflow-x-hidden",l.class)}),{default:h(()=>[qe("div",$t,[b(d.$slots,"default")])]),_:3},16,["class"]))}}),[Z,St]=V("Command"),[It,Dt]=V("CommandGroup"),Jt=w({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(i,{emit:l}){const d=R(i,l);return(o,n)=>(y(),C(e(Bt),ue(ce(e(d))),{default:h(()=>[b(o.$slots,"default")]),_:3},16))}}),Qt=w({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(i,{emit:l}){const t=i,a=l,d=O(()=>{const{class:n,...s}=t;return s}),o=R(d,a);return(n,s)=>(y(),C(e(Pt),null,{default:h(()=>[D(e(kt),A({...e(o),...n.$attrs},{class:e(K)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.class)}),{default:h(()=>[b(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Yt=w({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(i){const l=i;return(t,a)=>(y(),C(e(Et),ue(ce(l)),{default:h(()=>[b(t.$slots,"default")]),_:3},16))}});export{Jt as _,Yt as a,Qt as b,Gt as c,qt as d,Ut as e,Xt as f,Wt as g,jt as h,rt as u};
