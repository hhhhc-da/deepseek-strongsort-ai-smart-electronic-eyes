import{D as q,d as C,O as $,j,p,o as v,c as b,w as u,e as k,u as e,N as x,m as V,a0 as M,a1 as N,a5 as I,P as R,f as y,X as K,a2 as A,i as D}from"./index-zul1sP2k.js";import{_ as O}from"./RovingFocusItem-BS6R49SQ.js";import{u as L,i as T}from"./PopperContent-CFzl98FT.js";import{i as _}from"./nullish-CJ0qcQIT.js";import{i as B}from"./isValueEqualOrExist-DMryutpF.js";import{_ as X}from"./VisuallyHiddenInput-D2ViiYJ9.js";import{C as z}from"./check-G7G9vN6C.js";const[H,le]=q("CheckboxGroupRoot");function h(l){return l==="indeterminate"}function S(l){return h(l)?"indeterminate":l?"checked":"unchecked"}const[J,Q]=q("CheckboxRoot"),U=C({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:d}){const t=l,o=d,{forwardRef:c,currentElement:m}=$(),s=H(null),n=j(t,"modelValue",o,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),i=p(()=>(s==null?void 0:s.disabled.value)||t.disabled),r=p(()=>_(s==null?void 0:s.modelValue.value)?n.value==="indeterminate"?"indeterminate":n.value:B(s.modelValue.value,t.value));function E(){if(_(s==null?void 0:s.modelValue.value))n.value=h(n.value)?!0:!n.value;else{const a=[...s.modelValue.value||[]];if(B(a,t.value)){const g=a.findIndex(f=>T(f,t.value));a.splice(g,1)}else a.push(t.value);s.modelValue.value=a}}const F=L(m),P=p(()=>{var a;return t.id&&m.value?(a=document.querySelector(`[for="${t.id}"]`))==null?void 0:a.innerText:void 0});return Q({disabled:i,state:r}),(a,g)=>{var f,w;return v(),b(I((f=e(s))!=null&&f.rovingFocus.value?e(O):e(R)),V(a.$attrs,{id:a.id,ref:e(c),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(h)(r.value)?"mixed":r.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||P.value,"data-state":e(S)(r.value),"data-disabled":i.value?"":void 0,disabled:i.value,focusable:(w=e(s))!=null&&w.rovingFocus.value?!i.value:void 0,onKeydown:M(N(()=>{},["prevent"]),["enter"]),onClick:E}),{default:u(()=>[k(a.$slots,"default",{modelValue:e(n),state:r.value}),e(F)&&a.name&&!e(s)?(v(),b(e(X),{key:0,type:"checkbox",checked:!!r.value,name:a.name,value:a.value,disabled:i.value,required:a.required},null,8,["checked","name","value","disabled","required"])):x("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),W=C({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:d}=$(),t=J();return(o,c)=>(v(),b(e(K),{present:o.forceMount||e(h)(e(t).state.value)||e(t).state.value===!0},{default:u(()=>[y(e(R),V({ref:e(d),"data-state":e(S)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:u(()=>[k(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),oe=C({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:d}){const t=l,o=d,c=p(()=>{const{class:s,...n}=t;return n}),m=A(c,o);return(s,n)=>(v(),b(e(U),V(e(m),{class:e(D)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t.class)}),{default:u(()=>[y(e(W),{class:"flex h-full w-full items-center justify-center text-current"},{default:u(()=>[k(s.$slots,"default",{},()=>[y(e(z),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}});export{oe as _};
