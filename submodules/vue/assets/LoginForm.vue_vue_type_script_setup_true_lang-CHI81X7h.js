import{d as $,o as v,c,w as t,g as o,u as a,_ as d,H as B,B as f,M as C,L as b,a as y,f as e,I as F,b as i,J as L}from"./index-zul1sP2k.js";import{_ as N,a as T,b as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-CyHGzjLh.js";import{_ as A,a as p}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdFAc5lE.js";import{_}from"./Input.vue_vue_type_script_setup_true_lang-TPBklP1s.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-6b5GUbaZ.js";import{_ as S,a as U}from"./TermsOfServiceButton.vue_vue_type_script_setup_true_lang-Be92yR9g.js";const j=$({__name:"ToForgotPasswordLink",setup(w){return(u,r)=>(v(),c(a(d),{variant:"link",class:"text-muted-foreground",onClick:r[0]||(r[0]=n=>u.$router.push("/auth/forgot-password"))},{default:t(()=>r[1]||(r[1]=[o(" 忘记密码？ ")])),_:1}))}}),E={class:"grid gap-2"},H={class:"grid gap-2"},I={class:"flex items-center justify-between"},G=$({__name:"LoginForm",setup(w){const{toast:u}=B(),r=f(""),n=f(""),x=C(),m=b();async function k(){await m.signin({username:r.value,password:n.value}),m.isAuthenticated?x.push("/magic"):u({title:"登录失败！",description:"用户名或密码错误",variant:"destructive"})}return(V,s)=>(v(),y(L,null,[e(F),e(a(q),{class:"w-full max-w-sm"},{default:t(()=>[e(a(N),null,{default:t(()=>[e(a(A),{class:"text-2xl"},{default:t(()=>s[3]||(s[3]=[o(" 登录您的账户 ")])),_:1}),e(a(p),null,{default:t(()=>[s[5]||(s[5]=o(" 输入您的用户名和密码即可登录。 还没有账户？ ")),e(a(d),{variant:"link",class:"px-0 text-muted-foreground",onClick:s[0]||(s[0]=l=>V.$router.push("/auth/sign-up"))},{default:t(()=>s[4]||(s[4]=[o(" 立即注册 ")])),_:1})]),_:1})]),_:1}),e(a(T),{class:"grid gap-4"},{default:t(()=>[i("div",E,[e(a(g),{for:"username"},{default:t(()=>s[6]||(s[6]=[o("用户名")])),_:1}),e(a(_),{id:"username",type:"username",modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=l=>r.value=l),placeholder:"请输入用户名",required:""},null,8,["modelValue"])]),i("div",H,[i("div",I,[e(a(g),{for:"password"},{default:t(()=>s[7]||(s[7]=[o("密码")])),_:1}),e(j)]),e(a(_),{id:"password",type:"password",modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=l=>n.value=l),required:"",placeholder:"*********"},null,8,["modelValue"])]),e(a(d),{class:"w-full",onClick:k},{default:t(()=>s[8]||(s[8]=[o(" 登录 ")])),_:1}),e(a(p),null,{default:t(()=>[s[9]||(s[9]=o(" 点击“登录”即表示您已阅读并同意 ")),e(S),s[10]||(s[10]=o(" 和 ")),e(U)]),_:1})]),_:1})]),_:1})],64))}});export{G as _};
