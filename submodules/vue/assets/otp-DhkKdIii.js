import{_ as X}from"./AuthTitle.vue_vue_type_script_setup_true_lang-DfcIbIq2.js";import{d as V,R as Y,O as Z,j as ee,p as c,B as J,T as L,o as x,c as I,w as r,e as A,u as t,f as i,m as R,P as N,D as te,S as ae,s as le,x as ne,a0 as q,y as se,Q as oe,a2 as ue,i as T,a6 as Q,a as O,b as D,g as E,l as re,J as de,V as ie,_ as U,C as G}from"./index-zul1sP2k.js";import{_ as ce,a as pe,b as fe}from"./CardHeader.vue_vue_type_script_setup_true_lang-CyHGzjLh.js";import{_ as me,a as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdFAc5lE.js";import{_ as ve}from"./CardFooter.vue_vue_type_script_setup_true_lang-5psVoq1O.js";import{_ as _e}from"./VisuallyHiddenInput-D2ViiYJ9.js";import{u as ge}from"./useDirection-B_U0F_uO.js";import{u as he}from"./useArrowNavigation-B5rxJs06.js";import"./command-DuKjWcCL.js";const[xe,ye]=te("PinInputRoot"),be=V({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{},defaultValue:{},placeholder:{default:""},mask:{type:Boolean},otp:{type:Boolean},type:{default:"text"},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","complete"],setup(p,{emit:s}){const a=p,o=s,{mask:l,otp:u,placeholder:_,type:m,disabled:w,dir:F}=Y(a),{forwardRef:P}=Z(),k=ge(F),v=ee(a,"modelValue",o,{defaultValue:a.defaultValue??[],passive:a.modelValue===void 0}),$=c(()=>Array.isArray(v.value)?[...v.value]:[]),y=J(new Set);function j(f){y.value.add(f)}const B=c(()=>$.value.filter(b=>!!b).length===y.value.size);return L(v,()=>{B.value&&o("complete",v.value)},{deep:!0}),ye({modelValue:v,currentModelValue:$,mask:l,otp:u,placeholder:_,type:m,dir:k,disabled:w,isCompleted:B,inputElements:y,onInputElementChange:j}),(f,b)=>(x(),I(t(N),R(f.$attrs,{ref:t(P),dir:t(k),"data-complete":B.value?"":void 0,"data-disabled":t(w)?"":void 0}),{default:r(()=>[A(f.$slots,"default",{modelValue:t(v)}),i(_e,{id:f.id,as:"input",feature:"focusable",tabindex:"-1",value:$.value.join(""),name:f.name??"",disabled:t(w),required:f.required,onFocus:b[0]||(b[0]=S=>{var M,h;return(h=(M=Array.from(y.value))==null?void 0:M[0])==null?void 0:h.focus()})},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),Ve=V({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},setup(p){const s=p,a=xe(),o=c(()=>Array.from(a.inputElements.value)),l=c(()=>a.currentModelValue.value[s.index]),u=c(()=>s.disabled||a.disabled.value),_=c(()=>a.otp.value),m=c(()=>a.type.value==="number"),w=c(()=>a.mask.value),{primitiveElement:F,currentElement:P}=ae();function k(e){var g;const n=e.target;if((((g=e.data)==null?void 0:g.length)??0)>1){S(n.value);return}if(m.value&&!/^\d*$/.test(n.value)){n.value=n.value.replace(/\D/g,"");return}n.value=n.value.slice(-1),h(s.index,n.value);const d=o.value[s.index+1];d&&d.focus()}function v(){const e=P.value;se(()=>{e&&!e.value&&(e.placeholder=a.placeholder.value)})}function $(e){he(e,oe(),void 0,{itemsArray:o.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:a.dir.value})}function y(e){if(e.preventDefault(),e.target.value)h(s.index,"");else{const g=o.value[s.index-1];g&&(g.focus(),h(s.index-1,""))}}function j(e){e.key==="Delete"&&(e.preventDefault(),h(s.index,""))}function B(e){const n=e.target;n.setSelectionRange(1,1),n.value||(n.placeholder="")}function f(e){v()}function b(e){e.preventDefault();const n=e.clipboardData;if(!n)return;const d=n.getData("text");S(d)}function S(e){var z;const n=[...a.currentModelValue.value],d=e.length>=o.value.length?0:s.index,g=Math.min(d+e.length,o.value.length);for(let C=d;C<g;C++){const W=o.value[C],K=e[C-d];m.value&&!/^\d*$/.test(K)||(n[C]=K,W.focus())}a.modelValue.value=n,(z=o.value[g])==null||z.focus()}function M(e){let n=e.length-1;for(;n>=0&&e[n]==="";)e.pop(),n--;return e}function h(e,n){const d=[...a.currentModelValue.value];d[e]=n,a.modelValue.value=M(d)}return L(l,()=>{l.value||v()}),le(()=>{a.onInputElementChange(P.value)}),ne(()=>{var e;(e=a.inputElements)==null||e.value.delete(P.value)}),(e,n)=>(x(),I(t(N),{ref_key:"primitiveElement",ref:F,autocapitalize:"none",as:e.as,"as-child":e.asChild,autocomplete:_.value?"one-time-code":"false",type:w.value?"password":"text",inputmode:m.value?"numeric":"text",pattern:m.value?"[0-9]*":void 0,placeholder:t(a).placeholder.value,value:l.value,disabled:u.value,"data-disabled":u.value?"":void 0,"data-complete":t(a).isCompleted.value?"":void 0,"aria-label":`pin input ${e.index+1} of ${o.value.length}`,onInput:n[0]||(n[0]=d=>k(d)),onKeydown:[q($,["left","right","up","down","home","end"]),q(y,["backspace"]),q(j,["delete"])],onFocus:B,onBlur:f,onPaste:b},{default:r(()=>[A(e.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),we=V({__name:"PinInput",props:{modelValue:{default:()=>[]},defaultValue:{},placeholder:{},mask:{type:Boolean},otp:{type:Boolean},type:{},dir:{},disabled:{type:Boolean},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","complete"],setup(p,{emit:s}){const a=p,o=s,l=c(()=>{const{class:_,...m}=a;return m}),u=ue(l,o);return(_,m)=>(x(),I(t(be),R(t(u),{class:t(T)("flex gap-2 items-center",a.class)}),{default:r(()=>[A(_.$slots,"default")]),_:3},16,["class"]))}}),Pe=V({__name:"PinInputGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,a=c(()=>{const{class:l,...u}=s;return u}),o=Q(a);return(l,u)=>(x(),I(t(N),R(t(o),{class:t(T)("flex items-center",s.class)}),{default:r(()=>[A(l.$slots,"default")]),_:3},16,["class"]))}}),$e=V({__name:"PinInputInput",props:{index:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(p){const s=p,a=c(()=>{const{class:l,...u}=s;return u}),o=Q(a);return(l,u)=>(x(),I(t(Ve),R(t(o),{class:t(T)("relative text-center focus:outline-none focus:ring-2 focus:ring-ring focus:relative focus:z-10 flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",s.class)}),null,16,["class"]))}}),Be={class:"flex items-center justify-center min-h-screen p-4 min-w-screen"},Ce={class:"flex flex-col gap-4"},Ee={class:"grid items-center justify-center gap-2"},Ie=V({__name:"otp",setup(p){const s=J([]);function a(o){alert(o.join(""))}return(o,l)=>(x(),O("div",Be,[D("main",Ce,[i(X),i(t(fe),{class:"w-full max-w-sm"},{default:r(()=>[i(t(ce),null,{default:r(()=>[i(t(me),{class:"text-2xl"},{default:r(()=>l[1]||(l[1]=[E(" Two-Factor Authentication ")])),_:1}),i(t(H),null,{default:r(()=>l[2]||(l[2]=[E(" Please enter the authentication code.We have sent the authentication code to your email. ")])),_:1})]),_:1}),i(t(pe),{class:"grid gap-4"},{default:r(()=>[D("div",Ee,[i(t(we),{id:"pin-input",modelValue:t(s),"onUpdate:modelValue":l[0]||(l[0]=u=>re(s)?s.value=u:null),placeholder:"â—‹",onComplete:a},{default:r(()=>[l[3]||(l[3]=D("span",{class:"text-xl"},"SA",-1)),l[4]||(l[4]=D("span",null,"-",-1)),i(t(Pe),null,{default:r(()=>[(x(),O(de,null,ie(6,(u,_)=>i(t($e),{key:u,index:_},null,8,["index"])),64))]),_:1})]),_:1},8,["modelValue"])])]),_:1}),i(t(ve),{class:"flex flex-col gap-2"},{default:r(()=>[i(t(U),{class:"w-full",disabled:t(s).length<6},{default:r(()=>l[5]||(l[5]=[E(" Verify ")])),_:1},8,["disabled"]),i(t(H),null,{default:r(()=>[l[7]||(l[7]=E(" Haven't received it? ")),i(t(U),{variant:"link",class:"px-0 text-muted-foreground"},{default:r(()=>l[6]||(l[6]=[E(" Resend a new code. ")])),_:1})]),_:1})]),_:1})]),_:1})])]))}});typeof G=="function"&&G(Ie);export{Ie as default};
