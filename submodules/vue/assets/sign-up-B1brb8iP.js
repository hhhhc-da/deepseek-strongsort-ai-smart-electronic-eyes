import{_ as C}from"./AuthTitle.vue_vue_type_script_setup_true_lang-DfcIbIq2.js";import{d as N,H as B,L as A,M as U,B as m,p as M,o as v,a as w,f as a,I as P,b as n,w as t,u as e,g as o,_ as x,l as f,N as R,J as S,C as $}from"./index-zul1sP2k.js";import{_ as T,a as j,b as q}from"./CardHeader.vue_vue_type_script_setup_true_lang-CyHGzjLh.js";import{_ as E,a as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-BdFAc5lE.js";import{_ as p}from"./Input.vue_vue_type_script_setup_true_lang-TPBklP1s.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-6b5GUbaZ.js";import{_ as F,a as H}from"./TermsOfServiceButton.vue_vue_type_script_setup_true_lang-Be92yR9g.js";import"./command-DuKjWcCL.js";const I={class:"flex items-center justify-center min-h-screen p-4 min-w-screen"},J={class:"flex flex-col gap-4"},L={class:"grid gap-4"},z={class:"grid gap-2"},D={class:"grid gap-2"},G={class:"grid gap-2"},K={key:0,class:"text-sm text-red-500"},O=N({__name:"sign-up",setup(Q){const{toast:y}=B(),r=A(),c=U(),u=m(""),i=m(""),d=m(""),g=M(()=>i.value===d.value);r.isAuthenticated&&c.push("/magic");async function b(){await r.signup({username:u.value,password:i.value}),r.isAuthenticated?c.push("/magic"):y({title:"⚠️注册失败！",description:"用户名已存在或者网络错误",variant:"destructive"})}return(k,s)=>(v(),w(S,null,[a(P),n("div",I,[n("main",J,[a(C),a(e(q),{class:"max-w-sm mx-auto"},{default:t(()=>[a(e(T),null,{default:t(()=>[a(e(E),{class:"text-xl"},{default:t(()=>s[4]||(s[4]=[o(" 注册 ")])),_:1}),a(e(V),null,{default:t(()=>[s[6]||(s[6]=o(" 请输入用户名和密码创建一个账户。 已经有一个账户？ ")),a(e(x),{variant:"link",class:"px-0 text-muted-foreground",onClick:s[0]||(s[0]=l=>k.$router.push("/auth/sign-in"))},{default:t(()=>s[5]||(s[5]=[o(" 去登录 ")])),_:1})]),_:1})]),_:1}),a(e(j),null,{default:t(()=>[n("div",L,[n("div",z,[a(e(_),{for:"username"},{default:t(()=>s[7]||(s[7]=[o("用户名")])),_:1}),a(e(p),{id:"username",type:"text",placeholder:"请输入用户名",required:"",modelValue:e(u),"onUpdate:modelValue":s[1]||(s[1]=l=>f(u)?u.value=l:null)},null,8,["modelValue"])]),n("div",D,[a(e(_),{for:"password"},{default:t(()=>s[8]||(s[8]=[o("密码")])),_:1}),a(e(p),{id:"password",type:"password",placeholder:"******",modelValue:e(i),"onUpdate:modelValue":s[2]||(s[2]=l=>f(i)?i.value=l:null)},null,8,["modelValue"])]),n("div",G,[a(e(_),{for:"password"},{default:t(()=>s[9]||(s[9]=[o("确认密码")])),_:1}),a(e(p),{id:"password",type:"password",placeholder:"******",modelValue:e(d),"onUpdate:modelValue":s[3]||(s[3]=l=>f(d)?d.value=l:null)},null,8,["modelValue"]),e(g)?R("",!0):(v(),w("p",K," 密码不匹配 "))]),a(e(x),{type:"submit",class:"w-full",onClick:b,disabled:!e(g)},{default:t(()=>s[10]||(s[10]=[o(" 创建账户 ")])),_:1},8,["disabled"]),a(e(V),null,{default:t(()=>[s[11]||(s[11]=o(" 创建账户即表示您已阅读并同意 ")),a(F),s[12]||(s[12]=o(" 和 ")),a(H)]),_:1})])]),_:1})]),_:1})])])],64))}});typeof $=="function"&&$(O);export{O as default};
